# SOLAT Engine Environment Configuration
# Copy this file to .env and fill in your values
# NEVER commit .env files to version control

# =============================================================================
# Application Settings
# =============================================================================

# Trading mode: DEMO (paper trading) or LIVE (real money)
# WARNING: LIVE mode executes real orders with real money
SOLAT_MODE=DEMO

# Application environment: development, staging, production
SOLAT_ENV=development

# Server configuration
SOLAT_HOST=127.0.0.1
SOLAT_PORT=8765

# Logging level: DEBUG, INFO, WARNING, ERROR, CRITICAL
SOLAT_LOG_LEVEL=INFO

# Data directory for Parquet files and SQLite catalogue
SOLAT_DATA_DIR=./data

# =============================================================================
# IG Markets API Credentials
# =============================================================================

# Get these from your IG Markets account
IG_API_KEY=your_api_key_here
IG_USERNAME=your_username_here
IG_PASSWORD=your_password_here
IG_ACCOUNT_ID=your_account_id_here

# IG account type: DEMO or LIVE (must match SOLAT_MODE)
IG_ACC_TYPE=DEMO

# =============================================================================
# IG API Configuration
# =============================================================================

# Request timeout in seconds
IG_REQUEST_TIMEOUT_S=20

# Maximum retry attempts for failed requests
IG_MAX_RETRIES=3

# Rate limiting: requests per second
IG_RATE_LIMIT_RPS=2.0

# Rate limiting: burst allowance
IG_RATE_LIMIT_BURST=5

# =============================================================================
# Historical Data Settings
# =============================================================================

# Default number of days to sync
HISTORY_DEFAULT_DAYS=30

# Maximum rows per API call
HISTORY_MAX_ROWS_PER_CALL=5000

# Gap tolerance multiplier (1.5 = 150% of expected interval)
QUALITY_GAP_TOLERANCE_MULTIPLIER=1.5

# =============================================================================
# Execution Settings (Phase 005)
# =============================================================================

# Execution mode: DEMO or LIVE
# WARNING: Must be DEMO for v1 - LIVE mode is blocked
EXECUTION_MODE=DEMO

# Position reconciliation interval in seconds
EXECUTION_RECONCILE_INTERVAL_S=5

# Maximum position size per trade
MAX_POSITION_SIZE=1.0

# Maximum concurrent open positions
MAX_CONCURRENT_POSITIONS=5

# Maximum daily loss percentage before trading halts (kill switch trigger)
MAX_DAILY_LOSS_PCT=5.0

# Maximum trades per hour (rate limiting)
MAX_TRADES_PER_HOUR=20

# Maximum exposure per symbol
PER_SYMBOL_EXPOSURE_CAP=10000.0

# Require stop loss on all trades (true/false)
REQUIRE_SL=false

# Close all positions when kill switch activates (true/false)
CLOSE_ON_KILL_SWITCH=false

# Require explicit confirmation to arm execution (true/false)
REQUIRE_ARM_CONFIRMATION=true

# =============================================================================
# Market Data Settings (Phase 006)
# =============================================================================

# Default market data mode: stream (Lightstreamer) or poll (REST fallback)
MARKET_DATA_MODE=stream

# Poll interval in milliseconds (poll mode only)
MARKET_DATA_POLL_INTERVAL_MS=1500

# Maximum quote updates per second per symbol (WS throttling)
MARKET_DATA_MAX_QUOTES_PER_SEC=10

# Maximum concurrent symbol subscriptions
MARKET_DATA_MAX_SUBSCRIPTIONS=20

# Persist realtime bars to Parquet store (true/false)
MARKET_DATA_PERSIST_BARS=true

# Seconds without ticks before feed considered stale
MARKET_DATA_STALE_THRESHOLD_S=10
